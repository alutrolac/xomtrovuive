<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Quản lý nhà trọ</title>
  <link rel="stylesheet" href="styles.css"/>
</head>
<body>
  <header class="app-header">
    <h1>Quản lý nhà trọ</h1>
    <div class="header-actions">
      <button id="btnImport">Import dữ liệu</button>
      <button id="btnExport">Export dữ liệu</button>
      <button id="btnReset">Reset dữ liệu</button>
    </div>
  </header>

  <nav class="sidebar">
    <ul>
      <li class="active" data-view="dashboard">Dashboard</li>
      <li data-view="rooms">Phòng</li>
      <li data-view="tenants">Khách trọ</li>
      <li data-view="payments">Thanh toán</li>
      <li data-view="reports">Báo cáo</li>
      <li data-view="settings">Cấu hình</li>
    </ul>
  </nav>

  <main class="content">
    <!-- Dashboard -->
    <section id="view-dashboard" class="view active">
      <h2>Tổng quan</h2>
      <div class="cards">
        <div class="card">
          <div class="card-title">Tổng số phòng</div>
          <div class="card-value" id="statRooms">0</div>
        </div>
        <div class="card">
          <div class="card-title">Phòng đang thuê</div>
          <div class="card-value" id="statOccupied">0</div>
        </div>
        <div class="card">
          <div class="card-title">Tổng khách trọ</div>
          <div class="card-value" id="statTenants">0</div>
        </div>
        <div class="card">
          <div class="card-title">Doanh thu tháng</div>
          <div class="card-value" id="statRevenue">0</div>
        </div>
      </div>
      <div class="panel">
        <h3>Hóa đơn gần đây</h3>
        <table>
          <thead>
            <tr>
              <th>Phòng</th>
              <th>Tháng</th>
              <th>Tiền phòng</th>
              <th>Điện</th>
              <th>Nước</th>
              <th>Tổng</th>
              <th>Trạng thái</th>
            </tr>
          </thead>
          <tbody id="recentInvoices"></tbody>
        </table>
      </div>
    </section>

    <!-- Rooms -->
    <section id="view-rooms" class="view">
      <div class="view-header">
        <h2>Quản lý phòng</h2>
        <button id="btnAddRoom">Thêm phòng</button>
      </div>
      <div class="panel">
        <table>
          <thead>
            <tr>
              <th>Mã phòng</th>
              <th>Sức chứa</th>
              <th>Khách hiện tại</th>
              <th>Giá phòng</th>
              <th>Trạng thái</th>
              <th>Hành động</th>
            </tr>
          </thead>
          <tbody id="roomsTable"></tbody>
        </table>
      </div>
      <div class="modal" id="roomModal">
        <div class="modal-content">
          <h3 id="roomModalTitle">Thêm phòng</h3>
          <label>Mã phòng
            <input type="text" id="roomCode"/>
          </label>
          <label>Sức chứa
            <input type="number" id="roomCapacity" min="1"/>
          </label>
          <label>Giá phòng (VND)
            <input type="number" id="roomPrice" min="0"/>
          </label>
          <div class="modal-actions">
            <button id="saveRoom">Lưu</button>
            <button class="secondary" id="closeRoomModal">Đóng</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Tenants -->
    <section id="view-tenants" class="view">
      <div class="view-header">
        <h2>Quản lý khách trọ</h2>
        <button id="btnAddTenant">Thêm khách</button>
      </div>
      <div class="panel">
        <table>
          <thead>
            <tr>
              <th>Họ tên</th>
              <th>SĐT</th>
              <th>Phòng</th>
              <th>Ngày vào</th>
              <th>Trạng thái</th>
              <th>Hành động</th>
            </tr>
          </thead>
          <tbody id="tenantsTable"></tbody>
        </table>
      </div>
      <div class="modal" id="tenantModal">
        <div class="modal-content">
          <h3 id="tenantModalTitle">Thêm khách</h3>
          <label>Họ tên
            <input type="text" id="tenantName"/>
          </label>
          <label>SĐT
            <input type="text" id="tenantPhone"/>
          </label>
          <label>Phòng
            <select id="tenantRoom"></select>
          </label>
          <label>Ngày vào
            <input type="date" id="tenantStart"/>
          </label>
          <div class="modal-actions">
            <button id="saveTenant">Lưu</button>
            <button class="secondary" id="closeTenantModal">Đóng</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Payments -->
    <section id="view-payments" class="view">
      <div class="view-header">
        <h2>Thanh toán</h2>
        <button id="btnGenerateInvoices">Tạo hóa đơn tháng</button>
      </div>
      <div class="panel">
        <table>
          <thead>
            <tr>
              <th>Phòng</th>
              <th>Tháng</th>
              <th>Tiền phòng</th>
              <th>Điện (kWh)</th>
              <th>Nước (m³)</th>
              <th>Tổng</th>
              <th>Trạng thái</th>
              <th>Hành động</th>
            </tr>
          </thead>
          <tbody id="paymentsTable"></tbody>
        </table>
      </div>
      <div class="modal" id="invoiceModal">
        <div class="modal-content">
          <h3>Chỉnh sửa hóa đơn</h3>
          <label>Điện (kWh)
            <input type="number" id="invElectric" min="0"/>
          </label>
          <label>Nước (m³)
            <input type="number" id="invWater" min="0"/>
          </label>
          <label>Ghi chú
            <input type="text" id="invNote"/>
          </label>
          <div class="modal-actions">
            <button id="saveInvoice">Lưu</button>
            <button class="secondary" id="closeInvoiceModal">Đóng</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Reports -->
    <section id="view-reports" class="view">
      <h2>Báo cáo</h2>
      <div class="panel">
        <div class="report-filters">
          <label>Tháng
            <input type="month" id="reportMonth"/>
          </label>
          <button id="btnRunReport">Xem báo cáo</button>
        </div>
        <div id="reportResult"></div>
      </div>
    </section>

    <!-- Settings -->
    <section id="view-settings" class="view">
      <h2>Cấu hình</h2>
      <div class="panel settings-grid">
        <label>Giá điện (VND/kWh)
          <input type="number" id="cfgElectric" min="0"/>
        </label>
        <label>Giá nước (VND/m³)
          <input type="number" id="cfgWater" min="0"/>
        </label>
        <label>Giá phòng mặc định (VND/phòng)
          <input type="number" id="cfgRoomPrice" min="0"/>
        </label>
        <button id="btnSaveSettings">Lưu cấu hình</button>
      </div>
    </section>
  </main>

  <footer class="app-footer">
    <span>© 2026 Quản lý nhà trọ</span>
  </footer>

  <div class="toast" id="toast"></div>

  <script src="app.js"></script>
</body>
</html>
